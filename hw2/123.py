import sys
import csv
import math
import numpy
import pandas

features = ['age', 'fnlwgt', 'sex', 'capital_gain', 'capital_loss', 'hours_per_week', ' Federal-gov', ' Local-gov', ' Never-worked', ' Private', ' Self-emp-inc', ' Self-emp-not-inc', ' State-gov', ' Without-pay', '?_workclass', ' 10th', ' 11th', ' 12th', ' 1st-4th', ' 5th-6th', ' 7th-8th', ' 9th', ' Assoc-acdm', ' Assoc-voc', ' Bachelors', ' Doctorate', ' HS-grad', ' Masters', ' Preschool', ' Prof-school', ' Some-college', ' Divorced', ' Married-AF-spouse', ' Married-civ-spouse', ' Married-spouse-absent', ' Never-married', ' Separated', ' Widowed', ' Adm-clerical', ' Armed-Forces', ' Craft-repair', ' Exec-managerial', ' Farming-fishing', ' Handlers-cleaners', ' Machine-op-inspct', ' Other-service', ' Priv-house-serv', ' Prof-specialty', ' Protective-serv', ' Sales', ' Tech-support', ' Transport-moving', '?_occupation', ' Husband', ' Not-in-family', ' Other-relative', ' Own-child', ' Unmarried', ' Wife', ' Amer-Indian-Eskimo', ' Asian-Pac-Islander', ' Black', ' Other', ' White', ' Cambodia', ' Canada', ' China', ' Columbia', ' Cuba', ' Dominican-Republic', ' Ecuador', ' El-Salvador', ' England', ' France', ' Germany', ' Greece', ' Guatemala', ' Haiti', ' Holand-Netherlands', ' Honduras', ' Hong', ' Hungary', ' India', ' Iran', ' Ireland', ' Italy', ' Jamaica', ' Japan', ' Laos', ' Mexico', ' Nicaragua', ' Outlying-US(Guam-USVI-etc)', ' Peru', ' Philippines', ' Poland', ' Portugal', ' Puerto-Rico', ' Scotland', ' South', ' Taiwan', ' Thailand', ' Trinadad&Tobago', ' United-States', ' Vietnam', ' Yugoslavia', '?_native_country']
w = [2.298463584563015, 1.0529488072910689, 0.8545778187059065, 29.70372457135747, 2.793493965230071, 2.9398378712377973, 0.358019905710012, -0.32090344343037236, -0.42628062126251987, -0.14015343793626525, 0.035317619359797964, -0.6265456141633983, -0.4501794997616061, -2.2706245003694043, -0.18636502347293402, -0.9133544028364858, -0.8188195208980592, -0.4195404904039535, -1.4440765617057039, -1.140721075877185, -1.3814829230145924, -1.1082666768181189, 0.4226687423885014, 0.4416139046364965, 1.021764124145571, 2.067066631071137, -0.09814318156600403, 1.3738805181500304, -4.148610796138395, 1.8719970099821712, 0.24631008355787543, -1.1938478241974901, 1.4587018113789978, 0.978042144182793, -1.2034173116938216, -1.671715122613297, -1.326017180539866, -1.0694611318440297, 0.040992144444930066, -0.8289415636027313, 0.11239294667395566, 0.8233775061054661, -0.9629645395308637, -0.636729624821208, -0.2402085151071798, -0.7855899116502073, -3.0475009151080497, 0.5553541080324376, 0.6117017697097706, 0.3199407603260852, 0.6941784228836471, -0.07107155894727926, -0.6126456447354578, -0.869743384064663, -0.3285066234546873, -1.3012680908763101, -1.5504979485629764, -0.4603655347666889, 0.4826669663986474, -1.159249438005958, -0.5004416823255504, -0.7761954793400402, -0.9913611426139641, -0.6004668730411493, 1.388514458414924, 0.47091811475877043, -0.5504572967470693, -1.9423062548677048, 0.4887508928750923, -1.632380001193352, -0.14575369038305566, -0.44550731662485776, 0.45609827614645937, 0.7410147265397785, 0.5754360522846482, -0.8104082810176845, -0.10728152237122818, 0.06842182110542987, -0.03513723627517603, -0.4831247156367133, 0.017192232545992864, 0.03546506282233461, -0.23469552464903168, 0.18128563059676042, 0.6741948818779536, 0.9497471947597138, 0.1733557176764141, 0.5297201741855908, -0.4772545582258738, -0.4514265382446287, -0.6782319966609309, -1.4894448390777852, -0.6987041082224265, 0.5574258043016782, 0.14175297683543128, 0.1083232845595547, -0.18879422349592842, 0.14676812726473454, -0.936296922861623, 0.16579636095796466, -0.4425975351704522, -0.2680845651389462, 0.3388973538654541, -0.9916059753959374, 0.8169143533127716, -0.04421501075372153, -4.027714615326643]
w = [16.461036960225506, 1.448550352912554, 0.8758617593313953, 29.764840710799348, 2.795894415103851, 2.509491619787867, 0.05648063111455063, -0.6052810665667507, -0.44473707194046425, -0.38444226093106104, -0.20012538720762632, -0.8585550329631383, -0.7245914001439056, -2.281606634683856, -0.24340397156028495, -0.9798850416838782, -0.8774452883911997, -0.5401249385949115, -1.5162388283550607, -1.2062211528212372, -1.3958889804302164, -1.1734879171786783, 0.25964174073338026, 0.28049416500577634, 0.8784319776874746, 1.9414839165154014, -0.2249512984782521, 1.189113533207397, -4.193926665979969, 1.7576619378051137, 0.1150806460763366, -1.583708403128222, 1.4377072735306156, 0.6619801628061458, -1.5386926905032519, -1.8500130154872794, -1.6878643176345858, -1.1256712044660586, -0.0922605287062433, -0.8801225935803977, -0.0605977672597439, 0.6887458484792027, -1.0510112144071244, -0.7578082799069444, -0.40856860365012954, -0.9108175160536351, -2.9990582362156237, 0.4182199020556534, 0.5273500751201649, 0.20687924579826397, 0.5451354981234624, -0.22420698117867674, -0.6881410435007554, -1.1953827274529867, -0.6305320288472708, -1.500065102011493, -1.7052583805616872, -0.819560222680532, 0.16453626667142304, -1.4883994260423126, -0.8284197461783065, -1.1340728368664303, -1.3129009184799338, -0.9224692673156473, 1.2555477691736745, 0.43305902464528656, -0.6412570653699023, -1.9071507186599266, 0.4615220510699364, -1.694533641256777, 0.015018033103482258, -0.5441167890919592, 0.4743260156696604, 0.676079014369682, 0.5326272918676473, -0.878173034965072, -0.13722177610843841, -0.03970736974957569, -0.0396818176049066, -0.520391510883025, 0.04060954337832911, 0.10240761081798115, -0.303351713482004, 0.08570869327484339, 0.7630645985983198, 0.8418884347819509, 0.12053101344390198, 0.38597289155337366, -0.4424376928023528, -0.5175047223733552, -0.6987742265800208, -1.4396117518920286, -0.7552433058385042, 0.47462398628640406, 0.17079108566116685, 0.07913834331383314, -0.32312379716219547, 0.04904893398604934, -0.9699377900714438, 0.09929593513884538, -0.45241966249051374, -0.37494022248894054, 0.28663870827671345, -1.0033759384813876, 0.7689104394649603, -0.12011706540639527, -14.05467803034857, -1.0431184990696956, -5.686262194882552]
w = [12.31066072140058, 1.4679503974396868, 0.8868958017000712, 30.037742551422532, 2.8193538117981216, 2.4278677299715987, 0.06983644346932011, -0.5886785753341739, -0.4336941856320151, -0.35390524506557, -0.16767634624663919, -0.8290116548872613, -0.7060991063775414, -2.2551600646729653, -0.20567141778119413, -0.9654527971125882, -0.8594065911408932, -0.5315810736086881, -1.5122831162556445, -1.1987356450698257, -1.3810584982496557, -1.1547616433065675, 0.272237259893338, 0.29302161938656884, 0.898939979122479, 1.971715652471853, -0.212176835461943, 1.1970718106289926, -4.216283124043894, 1.799239160503785, 0.1294536897144792, -1.5898191865431643, 1.5360623911957114, 0.6937043917917272, -1.5402893359963636, -1.8126077453934568, -1.685313946358928, -1.071796721223581, -0.08255924850624108, -0.865334244744999, -0.057745975075944214, 0.7029885519811818, -1.0369487130026065, -0.7454653517305967, -0.4066187980965431, -0.9038358564581105, -2.976314558509172, 0.4308837123262696, 0.5544474965629002, 0.22037754838947957, 0.5548200712997989, -0.21938918355035544, -0.6393656034131958, -1.1760970831197437, -0.5917817119859649, -1.4567772504744525, -1.6511263052327818, -0.7898160321561755, 0.19553823044100377, -1.4473273952873786, -0.7818308522993448, -1.0954208173683373, -1.2706274451614814, -0.8748536424115234, 1.2429571795469256, 0.4374699017040932, -0.6480234664454222, -1.9068356810561855, 0.468543585359962, -1.701602071630837, 0.18204047869747086, -0.5635156027008958, 0.5098287915490809, 0.6796479780140111, 0.5388219590004046, -0.9103188026485275, -0.1373889471069841, -0.05701708678230082, -0.04037337507686736, -0.528862581473715, 0.07509215328844257, 0.11499745414646216, -0.3091280069975684, 0.08686178737871308, 0.8100355876623423, 0.8269126061044884, 0.12572787100768962, 0.3712449271662826, -0.42666779636525204, -0.5136195441302674, -0.6835816142171969, -1.4066979164364348, -0.7583044307975937, 0.46996369798791227, 0.18881575942187023, 0.0856510156233388, -0.34286941961807466, 0.021963700948876713, -0.9809505738656941, 0.10499767948195371, -0.4405468421860022, -0.4030149091917833, 0.28860262400480285, -0.9966933796282005, 0.7781726236164731, -0.12239746588381313, -1.9783945512066696, -1.0371158930605482, -9.925914758202037, -5.470060152528108]
w = [13.294908910361189, 1.679117400245717, 0.891738088700712, 31.742966069548814, 2.841457549845557, 2.4245578495963924, 0.13325804728123009, -0.5303597659522019, -0.6626571763462424, -0.29253491732842973, -0.10675834515780147, -0.7699701692377924, -0.6455001591157719, -2.8716445931759624, -0.037102390616819914, -0.8367383030560973, -0.7365403598216771, -0.4062522368271007, -1.3856260957806261, -1.0743389533730727, -1.255126799621908, -1.0230519196762506, 0.3994857663261761, 0.41933199632575696, 1.0292799170565525, 2.1073774574841844, -0.08439610618918608, 1.3256989984423315, -6.454724910782033, 1.9338275041380515, 0.25852457570502546, -1.6431807159269902, 1.512980161931228, 0.6523329690722679, -1.5919138845388463, -1.8612946629131526, -1.736984540961312, -1.1152087963130153, -0.03913876123737527, -1.075217399444325, -0.014934974274664168, 0.749494807971544, -0.9937055429427616, -0.7024458047700297, -0.36546414225303436, -0.8583062501958351, -3.5528832701940467, 0.47495482243301473, 0.603218528820364, 0.2661039876887204, 0.6002053709173991, -0.17539127520577166, -0.6997595669630455, -1.233410641825384, -0.6453746726467899, -1.505157280435524, -1.7027412573908054, -0.8426637666357762, 0.14607814928443866, -1.5147385795490373, -0.8442297188395056, -1.158064798791046, -1.3326487608813045, -0.9335876115889095, 1.290868047583727, 0.45221624710341096, -0.6397444867735957, -1.9185414453192162, 0.47845674771292007, -1.7552502475641854, 0.20786963898256633, -0.5699070923220392, 0.5232145978927191, 0.6828514746579045, 0.5508367299830681, -0.9244294480626501, -0.124709247781231, -0.0334510947880968, -0.07310815996608651, -0.7864592530027908, 0.1099142658004564, 0.12719593610187951, -0.2944637038948738, 0.10386566588588285, 0.8407937254821588, 0.8384533160039704, 0.14574789641030153, 0.38380130401308565, -0.4023941255330591, -0.49758790258603236, -0.6457712402655637, -1.9192148550736126, -0.7538700153549167, 0.4877876816145731, 0.1984770075580218, 0.10392394648676676, -0.33973757980178615, 0.020678528830317525, -0.9631159850397673, 0.12737539829866723, -0.4170686133950657, -0.3904245984084965, 0.30132791243796186, -0.99440439477197, 0.7958935921447301, -0.11116564092982542, -3.3958261945851183, -1.6131753018589974, -9.363933836543811, -5.783269469649896]
w = [14.708930803331125, 1.817275160095484, 0.8933779453665435, 32.16434751418085, 2.8448816424729304, 2.4219400225670022, 0.20256607486986458, -0.46331605698839523, -0.969676807572458, -0.2247336286053607, -0.03968648150222742, -0.7039896053981565, -0.5774848953012532, -3.516174643665236, 0.16274785448933776, -0.6590701027393295, -0.5610265302517025, -0.22897862268177438, -1.2113790272868983, -0.9024143538081115, -1.0777855098460642, -0.8459039463474776, 0.5748410004679906, 0.5943001934101156, 1.205251238439291, 2.285017653837579, 0.09147195330974638, 1.5017298366426253, -9.440518448581768, 2.1099578228533113, 0.434758652908329, -1.6991633853867547, 1.479376289399501, 0.6152446935497429, -1.647698456157288, -1.9155674433077814, -1.7931738120198781, -1.168766075751526, -0.014951803913420996, -1.1786071874992083, 0.00941492467699848, 0.774643962769888, -0.9602487362083652, -0.6784301506650522, -0.3420110700519955, -0.8334468856359474, -3.9935169996899083, 0.49935449691726297, 0.6285397956018018, 0.2915869559874717, 0.6250675878463698, -0.1502141267267096, -0.806928953083126, -1.3064428638814192, -0.7008276808879383, -1.5428916253420446, -1.7581787326269216, -0.8976341262320602, 0.07622683929642839, -1.5837433120760247, -0.9132972354162048, -1.226523016913156, -1.4048849701286574, -1.0012996551398463, 1.3070402037490498, 0.46656408036233143, -0.627523792245894, -1.9041559013310956, 0.49017799836883336, -1.7468596729199208, 0.21152927905513427, -0.5589803053416672, 0.5365818596827935, 0.6949752602180355, 0.5652219863645347, -0.9116179125579607, -0.10776591777544355, -0.01924034014978249, -0.13636741852168463, -1.0607195384495738, 0.1270664486272825, 0.1429970403583809, -0.28050719304824034, 0.11797375861662102, 0.856889469132696, 0.8542642632721668, 0.16079856987688665, 0.39796758733004006, -0.37961596052677343, -0.45978542646008064, -0.6214230841115087, -2.5203842858838668, -0.737906884960698, 0.501425960280763, 0.2106639731013458, 0.11926857078950932, -0.32755039600960817, 0.03412064433177589, -0.9449990934000703, 0.1438293778533843, -0.3985690802994248, -0.37151061646489303, 0.3158017082866196, -0.9815328383643194, 0.8097789235915995, -0.0976694941011558, -6.133692030982624, -2.0025529282929333, -7.687223426522239, -6.129748189673985]
x_item = []
y_item = []
# sort the data order
for i in features:
	x_item.append(pandas.read_csv("X_test.csv", sep=',' , usecols=[i]).values.tolist())

# data normalization
tmp = numpy.array(x_item[0])
tmp = tmp / 90
x_item[0] = tmp.tolist()
tmp = numpy.array(x_item[1])
tmp = tmp / 1484705
x_item[1] = tmp.tolist()
tmp = numpy.array(x_item[3])
tmp = tmp / 99999
x_item[3] = tmp.tolist()
tmp = numpy.array(x_item[4])
tmp = tmp / 4356
x_item[4] = tmp.tolist()
tmp = numpy.array(x_item[5])
tmp = tmp / 99
x_item[5] = tmp.tolist()

# square item
row_name = [0, 1]
for i in row_name:
	tmp = numpy.array(x_item[i])
	tmp = tmp ** 2
	x_item.append(tmp.tolist())

# 3rd power
row_name = [0]
for i in row_name:
	tmp = numpy.array(x_item[i])
	tmp = tmp ** 3
	x_item.append(tmp.tolist())

# append data into x_item and y_item
for i in range(0, len(x_item[0])):
	tmp = []
	for j in range(0, len(x_item)):
		tmp += x_item[j][i]
	tmp += [1]
	y_item.append(tmp)

x_item = numpy.array(y_item)
y_item = numpy.dot(x_item, w)
y_item = 1 / (numpy.exp(-1 * y_item)+1)

index = 1
with open('output.csv', 'w', encoding='utf-8') as f:
	spamwriter = csv.writer(f, delimiter=',')
	spamwriter.writerow(['id', 'label'])
	# start testing x_vector to get y
	for i in y_item:
		if i < 0.5:
			spamwriter.writerow([str(index), 0])
		else:
			spamwriter.writerow([str(index), 1])
		index += 1